/**
 * Horror Video Effects CSS
 * Visual effects for interactive video horror integration
 */

/* Glitch Effect */
.glitch-effect {
    position: relative;
    animation: glitch-anim 0.3s infinite;
}

@keyframes glitch-anim {
    0% {
        transform: translate(0);
    }
    20% {
        transform: translate(-2px, 2px);
    }
    40% {
        transform: translate(-2px, -2px);
    }
    60% {
        transform: translate(2px, 2px);
    }
    80% {
        transform: translate(2px, -2px);
    }
    100% {
        transform: translate(0);
    }
}

.glitch-effect::before,
.glitch-effect::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: inherit;
    opacity: 0.8;
}

.glitch-effect::before {
    animation: glitch-before 0.3s infinite;
    clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%);
}

.glitch-effect::after {
    animation: glitch-after 0.3s infinite;
    clip-path: polygon(0 55%, 100% 55%, 100% 100%, 0 100%);
}

@keyframes glitch-before {
    0% {
        transform: translate(0);
    }
    20% {
        transform: translate(3px, -3px);
    }
    40% {
        transform: translate(-3px, 3px);
    }
    60% {
        transform: translate(3px, 3px);
    }
    80% {
        transform: translate(-3px, -3px);
    }
    100% {
        transform: translate(0);
    }
}

@keyframes glitch-after {
    0% {
        transform: translate(0);
    }
    20% {
        transform: translate(-3px, 3px);
    }
    40% {
        transform: translate(3px, -3px);
    }
    60% {
        transform: translate(-3px, -3px);
    }
    80% {
        transform: translate(3px, 3px);
    }
    100% {
        transform: translate(0);
    }
}

/* Text Distortion Effect */
.text-distortion {
    animation: text-distort 0.5s ease-in-out;
}

@keyframes text-distort {
    0%, 100% {
        transform: scale(1) skew(0deg);
        filter: blur(0);
    }
    25% {
        transform: scale(1.05) skew(2deg);
        filter: blur(1px);
    }
    50% {
        transform: scale(0.95) skew(-2deg);
        filter: blur(2px);
    }
    75% {
        transform: scale(1.02) skew(1deg);
        filter: blur(1px);
    }
}

.text-distortion .decision-question {
    animation: text-glitch 0.3s infinite;
}

@keyframes text-glitch {
    0% {
        text-shadow: 0 0 0 transparent;
    }
    25% {
        text-shadow: -2px 0 0 #ff0040, 2px 0 0 #00ffff;
    }
    50% {
        text-shadow: 2px 0 0 #ff0040, -2px 0 0 #00ffff;
    }
    75% {
        text-shadow: -2px 0 0 #00ffff, 2px 0 0 #ff0040;
    }
    100% {
        text-shadow: 0 0 0 transparent;
    }
}

/* Screen Corruption Effect */
.screen-corruption {
    position: relative;
}

.screen-corruption::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: repeating-linear-gradient(
        0deg,
        rgba(255, 0, 64, 0.1) 0px,
        transparent 2px,
        transparent 4px,
        rgba(0, 255, 255, 0.1) 6px
    );
    animation: corruption-scan 0.5s linear infinite;
    pointer-events: none;
}

@keyframes corruption-scan {
    0% {
        transform: translateY(0);
    }
    100% {
        transform: translateY(10px);
    }
}

/* Relief Glow Effect (Good Decision) */
.relief-glow {
    animation: relief-pulse 1.5s ease-out;
}

@keyframes relief-pulse {
    0% {
        box-shadow: 0 0 0 rgba(0, 255, 136, 0);
    }
    50% {
        box-shadow: 0 0 30px rgba(0, 255, 136, 0.6);
    }
    100% {
        box-shadow: 0 0 0 rgba(0, 255, 136, 0);
    }
}

/* Clarity Restore Effect (Good Decision) */
.clarity-restore {
    animation: clarity-fade 1s ease-out;
}

@keyframes clarity-fade {
    0% {
        filter: blur(5px) brightness(0.5);
    }
    100% {
        filter: blur(0) brightness(1);
    }
}

/* Currency Drain Visual (Bad Purchase Decision) */
.currency-drain {
    position: relative;
}

.currency-drain::before {
    content: '$$$';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 4rem;
    font-weight: bold;
    color: #ff0040;
    opacity: 0;
    animation: currency-fall 2s ease-out;
    pointer-events: none;
}

@keyframes currency-fall {
    0% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
    100% {
        opacity: 0;
        transform: translate(-50%, 100%) scale(0.5);
    }
}

/* Isolation Effect (Peer Pressure) */
.isolation-effect {
    animation: isolation-vignette 2s ease-in-out;
}

@keyframes isolation-vignette {
    0%, 100% {
        box-shadow: inset 0 0 0 rgba(0, 0, 0, 0);
    }
    50% {
        box-shadow: inset 0 0 100px rgba(0, 0, 0, 0.8);
    }
}

/* Consequence Montage (Final Scene) */
.consequence-montage {
    animation: consequence-flash 3s ease-in-out;
}

@keyframes consequence-flash {
    0%, 100% {
        filter: brightness(1) contrast(1);
    }
    10% {
        filter: brightness(0.3) contrast(2);
    }
    20% {
        filter: brightness(1.5) contrast(0.8);
    }
    30% {
        filter: brightness(0.5) contrast(1.5);
    }
    40% {
        filter: brightness(1.2) contrast(1);
    }
    50% {
        filter: brightness(0.7) contrast(1.3);
    }
}

/* Redemption Light (Good Final Choice) */
.redemption-light {
    animation: redemption-glow 3s ease-out;
}

@keyframes redemption-glow {
    0% {
        filter: brightness(0.5) saturate(0.5);
        box-shadow: 0 0 0 rgba(255, 215, 0, 0);
    }
    50% {
        filter: brightness(1.3) saturate(1.5);
        box-shadow: 0 0 50px rgba(255, 215, 0, 0.8);
    }
    100% {
        filter: brightness(1) saturate(1);
        box-shadow: 0 0 0 rgba(255, 215, 0, 0);
    }
}

/* Video Container Enhancements */
.horror-video-container {
    position: relative;
    overflow: hidden;
    background: #000;
}

.horror-video-container video {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: filter 0.5s ease, opacity 0.3s ease;
}

/* Horror Intensity Overlays */
.horror-overlay-minimal {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle, transparent 60%, rgba(0, 0, 0, 0.2) 100%);
    pointer-events: none;
}

.horror-overlay-moderate {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle, transparent 40%, rgba(0, 0, 0, 0.4) 100%);
    pointer-events: none;
    animation: pulse-dark 3s ease-in-out infinite;
}

.horror-overlay-heavy {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle, transparent 20%, rgba(0, 0, 0, 0.6) 100%);
    pointer-events: none;
    animation: pulse-dark 2s ease-in-out infinite;
}

@keyframes pulse-dark {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.7;
    }
}

/* Scanline Effect (Retro Horror) */
.scanlines {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.15) 0px,
        transparent 1px,
        transparent 2px,
        rgba(0, 0, 0, 0.15) 3px
    );
    pointer-events: none;
    animation: scanline-move 8s linear infinite;
}

@keyframes scanline-move {
    0% {
        transform: translateY(0);
    }
    100% {
        transform: translateY(10px);
    }
}

/* RGB Split Effect (Chromatic Aberration) */
.rgb-split {
    position: relative;
}

.rgb-split::before,
.rgb-split::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: inherit;
    mix-blend-mode: screen;
    pointer-events: none;
}

.rgb-split::before {
    animation: rgb-split-red 0.3s infinite;
    filter: brightness(1.5) sepia(1) hue-rotate(-50deg) saturate(5);
}

.rgb-split::after {
    animation: rgb-split-blue 0.3s infinite;
    filter: brightness(1.5) sepia(1) hue-rotate(180deg) saturate(5);
}

@keyframes rgb-split-red {
    0%, 100% {
        transform: translate(0, 0);
    }
    50% {
        transform: translate(-2px, 0);
    }
}

@keyframes rgb-split-blue {
    0%, 100% {
        transform: translate(0, 0);
    }
    50% {
        transform: translate(2px, 0);
    }
}

/* Static Noise Effect */
.static-noise {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><filter id="noise"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" /></filter><rect width="100" height="100" filter="url(%23noise)" opacity="0.3"/></svg>');
    opacity: 0.1;
    animation: static-flicker 0.1s infinite;
    pointer-events: none;
}

@keyframes static-flicker {
    0%, 100% {
        opacity: 0.1;
    }
    50% {
        opacity: 0.15;
    }
}

/* Accessibility: Reduced Motion */
@media (prefers-reduced-motion: reduce) {
    .glitch-effect,
    .text-distortion,
    .screen-corruption,
    .relief-glow,
    .clarity-restore,
    .currency-drain,
    .isolation-effect,
    .consequence-montage,
    .redemption-light,
    .scanlines,
    .rgb-split,
    .static-noise {
        animation: none !important;
    }
    
    .glitch-effect::before,
    .glitch-effect::after,
    .rgb-split::before,
    .rgb-split::after {
        display: none;
    }
}
